"use strict";(self["webpackChunkfree_design_system"]=self["webpackChunkfree_design_system"]||[]).push([[643],{3641:function(t,e,i){i.d(e,{Z:function(){return c}});var s=function(){var t=this,e=t._self._c;return e("button",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"button",class:{button_view_primary:"primary"===t.view,button_view_secondary:"secondary"===t.view,button_view_outline:"outline"===t.view,button_view_text:"text"===t.view,button_view_rounded:"rounded"===t.view,button_view_square:"square"===t.view,button_color_red:"red"===t.color,button_color_orange:"orange"===t.color,button_color_yellow:"yellow"===t.color,button_color_green:"green"===t.color,button_color_blue:"blue"===t.color,button_color_gray:"gray"===t.color,button_icon:t.noText,button_size_s:"s"===t.size,button_size_m:"m"===t.size,button_size_l:"l"===t.size,button_is_active:t.active,button_empty:t.empty},on:{click:t.onClick}},[t.noText?t._e():e("span",{staticClass:"button__text"},[t._t("default")],2),t.icon?e("svg-icon",{staticClass:"button__icon",attrs:{name:t.icon,size:t.iconSize}}):t._e()],1)},o=[],n=i(2415),l={props:{size:{type:String,default:"m"},view:{type:String,default:"primary"},icon:{type:String,default:""},active:{type:Boolean,default:!1},empty:{type:Boolean,default:!1},color:{type:String,default:"blue"}},components:{SvgIcon:n.Z},computed:{noText(){return!this.$slots.default},iconSize(){switch(this.size){case"s":return[14];case"l":return[20];default:return[16]}}},methods:{onClick(t){this.$emit("click",t)}}},a=l,r=i(1001),h=(0,r.Z)(a,s,o,!1,null,"369bdb1b",null),c=h.exports},3235:function(t,e,i){i.r(e),i.d(e,{default:function(){return f}});var s=function(){var t=this,e=t._self._c;return e("div",[e("game-conway-life",{attrs:{width:t.width,height:t.height}})],1)},o=[],n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"life"},[e("canvas",{ref:"conwayCanvas",style:`width: ${t.width}px; height: ${t.height}px; border: 1px solid #42a5f0`,attrs:{width:t.width,height:t.height},on:{click:t.createLife}}),e("div",{staticClass:"flex gap-16 mt-16"},[e("v-button",{staticClass:"ml-4",attrs:{disabled:t.evolution||0===t.gameObjects.length,view:t.evolution?"text":"primary"},on:{click:t.start}},[t._v("Run Life")]),e("v-button",{attrs:{view:t.evolution?"primary":"text"},on:{click:t.stop}},[t._v("Stop")])],1),e("div",{staticClass:"flex gap-16 mt-16"},[e("v-button",{staticClass:"ml-4",attrs:{view:"text"},on:{click:t.clean}},[t._v("Clean world")]),e("v-button",{attrs:{view:"text"},on:{click:function(e){return t.makeGrid(!1)}}},[t._v("Make random world")])],1)])},l=[],a=(i(7658),i(3641)),r={components:{VButton:a.Z},props:{width:{type:Number,default:300},height:{type:Number,default:150}},data(){return{ctx:null,cellWidth:10,cellHeight:10,gameObjects:[],frame:null,evolution:!1,canvasCoords:{}}},computed:{numRows(){return this.height/this.cellHeight},numColumns(){return this.width/this.cellWidth}},methods:{draw(t,e,i){this.ctx.fillStyle=t?"rgb(127,127,127)":"#fff",this.ctx.beginPath(),this.ctx.arc(e*this.cellWidth+this.cellWidth/2,i*this.cellHeight+this.cellHeight/2,this.cellWidth/2,0,this.cellWidth*Math.PI),this.ctx.fill()},makeCell(t,e,i){let s=!1;return s="alive"===i||"dead"!==i&&Math.random()>.5,this.draw(s,t,e),{alive:s,gridX:t,gridY:e,nextAlive:null}},clean(){this.gameObjects=[],this.ctx.clearRect(0,0,this.width,this.height),this.makeGrid(!0)},makeGrid(t){if(this.gameObjects=[],this.evolution=!1,clearTimeout(this.frame),t)for(let e=0;e<this.numRows;e++)for(let t=0;t<this.numColumns;t++)this.gameObjects.push(this.makeCell(t,e,"dead"));else for(let e=0;e<this.numRows;e++)for(let t=0;t<this.numColumns;t++)this.gameObjects.push(this.makeCell(t,e))},start(){this.evolution||(this.evolution=!0,this.runLoop())},runLoop(){window.requestAnimationFrame(this.gameLoop)},stop(){this.evolution=!1,this.$nextTick((()=>{cancelAnimationFrame(this.frame)}))},gameLoop(){this.checkSurrounding(),this.ctx.clearRect(0,0,this.width,this.height);for(let t=0;t<this.gameObjects.length;t++){const{alive:e,gridX:i,gridY:s,nextAlive:o}=this.gameObjects[t];this.draw(e,i,s,o)}this.frame=requestAnimationFrame(this.runLoop)},checkSurrounding(){for(let t=0;t<this.numColumns;t++)for(let e=0;e<this.numRows;e++){let i=this.isAlive(t-1,e-1)+this.isAlive(t,e-1)+this.isAlive(t+1,e-1)+this.isAlive(t-1,e)+this.isAlive(t+1,e)+this.isAlive(t-1,e+1)+this.isAlive(t,e+1)+this.isAlive(t+1,e+1),s=this.gridToIndex(t,e);this.gameObjects[s].nextAlive=2===i?this.gameObjects[s].alive:3===i}for(let t=0;t<this.gameObjects.length;t++)this.gameObjects[t].alive=this.gameObjects[t].nextAlive},isAlive(t,e){let i=t,s=e;return t<0&&(i=this.numColumns+t),t>=this.numColumns&&(i=t-this.numColumns),e<0&&(s=this.numRows+e),e>=this.numRows&&(s=e-this.numRows),this.gameObjects[this.gridToIndex(i,s)].alive?1:0},gridToIndex(t,e){return t+e*this.numColumns},createLife(t){const e=this.$refs.conwayCanvas.getBoundingClientRect();this.canvasCoords={left:e.left,top:e.top};const i=Math.floor((t.x-this.canvasCoords.left)/this.cellWidth),s=Math.floor((t.y-this.canvasCoords.top)/this.cellHeight),o=this.isAlive(i,s);this.gameObjects[this.gridToIndex(i,s)]=this.makeCell(i,s,o?"dead":"alive")}},mounted(){this.ctx=this.$refs.conwayCanvas.getContext("2d"),this.makeGrid(!0)}},h=r,c=i(1001),u=(0,c.Z)(h,n,l,!1,null,"9c6befda",null),d=u.exports,m={components:{GameConwayLife:d},data(){return{width:1280,height:640}}},v=m,g=(0,c.Z)(v,s,o,!1,null,"78635f2a",null),f=g.exports}}]);
//# sourceMappingURL=conway.d63cd836.js.map