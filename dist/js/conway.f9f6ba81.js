"use strict";(self["webpackChunkfree_design_system"]=self["webpackChunkfree_design_system"]||[]).push([[643],{3641:function(t,e,i){i.d(e,{Z:function(){return c}});var s=function(){var t=this,e=t._self._c;return e("button",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"button",class:{button_view_primary:"primary"===t.view,button_view_secondary:"secondary"===t.view,button_view_outline:"outline"===t.view,button_view_text:"text"===t.view,button_view_rounded:"rounded"===t.view,button_view_square:"square"===t.view,button_color_red:"red"===t.color,button_color_orange:"orange"===t.color,button_color_yellow:"yellow"===t.color,button_color_green:"green"===t.color,button_color_blue:"blue"===t.color,button_color_gray:"gray"===t.color,button_icon:t.noText,button_size_s:"s"===t.size,button_size_m:"m"===t.size,button_size_l:"l"===t.size,button_is_active:t.active,button_empty:t.empty},on:{click:t.onClick}},[t.noText?t._e():e("span",{staticClass:"button__text"},[t._t("default")],2),t.icon?e("svg-icon",{staticClass:"button__icon",attrs:{name:t.icon,size:t.iconSize}}):t._e()],1)},n=[],o=i(2415),l={props:{size:{type:String,default:"m"},view:{type:String,default:"primary"},icon:{type:String,default:""},active:{type:Boolean,default:!1},empty:{type:Boolean,default:!1},color:{type:String,default:"blue"}},components:{SvgIcon:o.Z},computed:{noText(){return!this.$slots.default},iconSize(){switch(this.size){case"s":return[14];case"l":return[20];default:return[16]}}},methods:{onClick(t){this.$emit("click",t)}}},r=l,a=i(1001),h=(0,a.Z)(r,s,n,!1,null,"369bdb1b",null),c=h.exports},1524:function(t,e,i){i.r(e),i.d(e,{default:function(){return f}});var s=function(){var t=this,e=t._self._c;return e("div",[e("game-conway-life",{attrs:{width:t.width,height:t.height}})],1)},n=[],o=function(){var t=this,e=t._self._c;return e("div",{staticClass:"life"},[e("canvas",{ref:"conwayCanvas",style:`width: ${t.width}px; height: ${t.height}px; border: 1px solid #42a5f0`,attrs:{width:t.width,height:t.height},on:{click:t.createLife}}),e("div",{staticClass:"flex gap-16 mt-16"},[e("v-button",{staticClass:"ml-4",attrs:{disabled:t.evolution||0===t.gameObjects.length,view:t.evolution?"text":"primary"},on:{click:t.start}},[t._v("Run Life")]),e("v-button",{attrs:{view:t.evolution?"primary":"text"},on:{click:t.stop}},[t._v("Stop")])],1),e("div",{staticClass:"flex gap-16 mt-16"},[e("v-button",{staticClass:"ml-4",attrs:{view:"text"},on:{click:t.clean}},[t._v("Clean world")]),e("v-button",{attrs:{view:"text"},on:{click:function(e){return t.makeGrid(!1)}}},[t._v("Make random world")])],1)])},l=[],r=(i(7658),i(3641)),a={components:{VButton:r.Z},props:{width:{type:Number,default:300},height:{type:Number,default:150}},data(){return{ctx:null,cellWidth:10,cellHeight:10,gameObjects:[],frame:null,evolution:!1,canvasCoords:{}}},computed:{numRows(){return this.height/this.cellHeight},numColumns(){return this.width/this.cellWidth}},methods:{draw({alive:t,gridX:e,gridY:i,strength:s}){s>1&&(s=1),this.ctx.fillStyle=t?`rgb(${Math.floor(255*s)},127,127)`:"#fff",this.ctx.beginPath(),this.ctx.arc(e*this.cellWidth+this.cellWidth/2,i*this.cellHeight+this.cellHeight/2,this.cellWidth/2,0,this.cellWidth*Math.PI),this.ctx.fill()},makeCell({gridX:t,gridY:e,alreadyAlive:i,strength:s}){let n=!1,o=s||.5;return"alive"===i?(n=!0,o+=.01):"dead"===i?(n=!1,o-=.01):n=Math.random()<o,this.draw({alive:n,gridX:t,gridY:e,strength:s}),{alive:n,gridX:t,gridY:e,nextAlive:null,strength:o}},clean(){this.gameObjects=[],this.ctx.clearRect(0,0,this.width,this.height),this.makeGrid(!0)},makeGrid(t){if(this.gameObjects=[],this.evolution=!1,clearTimeout(this.frame),t)for(let e=0;e<this.numRows;e++)for(let t=0;t<this.numColumns;t++)this.gameObjects.push(this.makeCell({gridX:t,gridY:e,alreadyAlive:"dead",strength:.5}));else for(let e=0;e<this.numRows;e++)for(let t=0;t<this.numColumns;t++)this.gameObjects.push(this.makeCell({gridX:t,gridY:e,strength:.5}))},start(){this.evolution||(this.evolution=!0,this.runLoop())},runLoop(){window.requestAnimationFrame(this.gameLoop)},stop(){this.evolution=!1,this.$nextTick((()=>{cancelAnimationFrame(this.frame)}))},gameLoop(){this.checkSurrounding(),this.ctx.clearRect(0,0,this.width,this.height);for(let t=0;t<this.gameObjects.length;t++){const{alive:e,gridX:i,gridY:s,strength:n}=this.gameObjects[t];this.draw({alive:e,gridX:i,gridY:s,strength:n})}this.frame=requestAnimationFrame(this.runLoop)},checkSurrounding(){for(let t=0;t<this.numColumns;t++)for(let e=0;e<this.numRows;e++){let i=this.isAlive(t-1,e-1)+this.isAlive(t,e-1)+this.isAlive(t+1,e-1)+this.isAlive(t-1,e)+this.isAlive(t+1,e)+this.isAlive(t-1,e+1)+this.isAlive(t,e+1)+this.isAlive(t+1,e+1),s=this.gridToIndex(t,e);2===i?(this.gameObjects[s].nextAlive=this.gameObjects[s].alive,this.gameObjects[s].strength+=.002):3===i?(this.gameObjects[s].nextAlive=!0,this.gameObjects[s].strength+=.001):(this.gameObjects[s].nextAlive=!1,this.gameObjects[s].strength=.5)}for(let t=0;t<this.gameObjects.length;t++)this.gameObjects[t].alive=this.gameObjects[t].nextAlive},isAlive(t,e){let i=t,s=e;return t<0&&(i=this.numColumns+t),t>=this.numColumns&&(i=t-this.numColumns),e<0&&(s=this.numRows+e),e>=this.numRows&&(s=e-this.numRows),this.gameObjects[this.gridToIndex(i,s)].alive?1:0},gridToIndex(t,e){return t+e*this.numColumns},createLife(t){const e=this.$refs.conwayCanvas.getBoundingClientRect();this.canvasCoords={left:e.left,top:e.top};const i=Math.floor((t.x-this.canvasCoords.left)/this.cellWidth),s=Math.floor((t.y-this.canvasCoords.top)/this.cellHeight),n=this.isAlive(i,s);this.gameObjects[this.gridToIndex(i,s)]=this.makeCell({gridX:i,gridY:s,alreadyAlive:n?"dead":"alive",strength:.5})}},mounted(){this.ctx=this.$refs.conwayCanvas.getContext("2d"),this.makeGrid(!0)}},h=a,c=i(1001),u=(0,c.Z)(h,o,l,!1,null,"2c4c6312",null),d=u.exports,g={components:{GameConwayLife:d},data(){return{width:1280,height:640}}},m=g,v=(0,c.Z)(m,s,n,!1,null,"78635f2a",null),f=v.exports}}]);
//# sourceMappingURL=conway.f9f6ba81.js.map