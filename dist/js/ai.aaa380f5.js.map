{"version":3,"file":"js/ai.aaa380f5.js","mappings":"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","sources":["webpack://free-design-system/./src/views/ai/AIView.vue","webpack://free-design-system/./src/components/AI/VAI.vue","webpack://free-design-system/src/components/AI/VAI.vue","webpack://free-design-system/./src/components/AI/VAI.vue?9d8f","webpack://free-design-system/./src/components/AI/VAI.vue?367a","webpack://free-design-system/src/views/ai/AIView.vue","webpack://free-design-system/./src/views/ai/AIView.vue?f9e2","webpack://free-design-system/./src/views/ai/AIView.vue?14c6"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('v-ai',{attrs:{\"width\":240,\"height\":320}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('canvas',{ref:\"canvasAI\",style:(`width: ${_vm.width}px; height=${_vm.height}px; border: 1px solid #42a5f0`),attrs:{\"width\":_vm.width,\"height\":_vm.height},on:{\"click\":_vm.clickCell}})])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <canvas\n      ref=\"canvasAI\"\n      :width=\"width\"\n      :height=\"height\"\n      :style=\"`width: ${width}px; height=${height}px; border: 1px solid #42a5f0`\"\n      @click=\"clickCell\"\n    ></canvas>\n  </div>\n</template>\n\n<script>\nexport default {\n  props: {\n    width: {\n      type: Number,\n      default: 100,\n    },\n    height: {\n      type: Number,\n      default: 100,\n    },\n  },\n  data() {\n    return {\n      ctx: null,\n      cellWidth: this.width / 10,\n      cellHeight: this.height / 10,\n      radius: this.width / 20,\n      fps: 60,\n      timer: null,\n      cells: [],\n    };\n  },\n  methods: {\n    distance(x1, y1, x2, y2) {\n      const xDist = x2 - x1;\n      const yDist = y2 - y1;\n\n      return Math.sqrt(Math.pow(xDist, 2) + Math.pow(yDist, 2));\n    },\n    rotate(velocity, angle) {\n      const rotatedVelocities = {\n        x: velocity.x * Math.cos(angle) - velocity.y * Math.sin(angle),\n        y: velocity.x * Math.sin(angle) + velocity.y * Math.cos(angle),\n      };\n\n      return rotatedVelocities;\n    },\n    resolveCollision(particle, otherParticle) {\n      console.log(\"resolver\");\n      const xVelocityDiff = particle.velocity.x - otherParticle.velocity.x;\n      const yVelocityDiff = particle.velocity.y - otherParticle.velocity.y;\n\n      const xDist = otherParticle.x - particle.x;\n      const yDist = otherParticle.y - particle.y;\n\n      // Prevent accidental overlap of particles\n      if (xVelocityDiff * xDist + yVelocityDiff * yDist >= 0) {\n        // Grab angle between the two colliding particles\n        const angle = -Math.atan2(\n          otherParticle.y - particle.y,\n          otherParticle.x - particle.x\n        );\n\n        // Store mass in var for better readability in collision equation\n        const m1 = particle.mass;\n        const m2 = otherParticle.mass;\n\n        // Velocity before equation\n        const u1 = this.rotate(particle.velocity, angle);\n        const u2 = this.rotate(otherParticle.velocity, angle);\n\n        // Velocity after 1d collision equation\n        const v1 = {\n          x: (u1.x * (m1 - m2)) / (m1 + m2) + (u2.x * 2 * m2) / (m1 + m2),\n          y: u1.y,\n        };\n        const v2 = {\n          x: (u2.x * (m1 - m2)) / (m1 + m2) + (u1.x * 2 * m2) / (m1 + m2),\n          y: u2.y,\n        };\n\n        // Final velocity after rotating axis back to original location\n        const vFinal1 = this.rotate(v1, -angle);\n        const vFinal2 = this.rotate(v2, -angle);\n\n        // Swap particle velocities for realistic bounce effect\n        particle.velocity.x = vFinal1.x;\n        particle.velocity.y = vFinal1.y;\n\n        otherParticle.velocity.x = vFinal2.x;\n        otherParticle.velocity.y = vFinal2.y;\n      }\n    },\n    fill({ x, y, color, radius }) {\n      if (radius < 0) {\n        return;\n      }\n      this.ctx.fillStyle = color;\n      this.ctx.beginPath();\n      this.ctx.arc(x, y, radius, 0, 2 * radius * Math.PI);\n      this.ctx.fill();\n      this.ctx.closePath();\n    },\n\n    clickCell($event) {\n      const rect = this.$refs.canvasAI.getBoundingClientRect();\n      const canvasCoords = {\n        left: rect.left,\n        top: rect.top,\n      };\n      const mass = 1;\n      const radius = mass * 2;\n      const x = $event.x - canvasCoords.left;\n      const y = $event.y - canvasCoords.top;\n      const newCell = {\n        x,\n        y,\n        color: \"#888888\",\n        velocity: {\n          x: Math.random() * 10 - 5,\n          y: Math.random() * 10 - 5,\n        },\n        mass,\n        radius,\n      };\n\n      if (x < radius || x >= this.width - radius) {\n        return false;\n      }\n      if (y < radius || y >= this.height - radius) {\n        return false;\n      }\n\n      this.fill(newCell);\n      this.cells.push(newCell);\n    },\n    render() {\n      this.timer = setTimeout(() => {\n        this.ctx.fillStyle = \"#fff\";\n        this.ctx.fillRect(0, 0, this.width, this.height);\n\n        for (let i = 0; i < this.cells.length; i++) {\n          for (let j = 0; j < this.cells.length; j++) {\n            const particleA = this.cells[i];\n            const particleB = this.cells[j];\n\n            if (particleA === particleB) {\n              continue;\n            }\n            if (\n              this.distance(\n                particleA.x,\n                particleA.y,\n                particleB.x,\n                particleB.y\n              ) <=\n              particleA.radius + particleB.radius\n            ) {\n              this.resolveCollision(particleA, particleB);\n\n              if (particleA.mass < particleB.mass) {\n                particleA.mass -= particleA.mass > 0.03 ? 0.002 : 0;\n                particleB.mass += particleB.mass < 3 ? 0.002 : 0;\n              } else {\n                particleB.mass -= particleB.mass > 0.03 ? 0.002 : 0;\n                particleA.mass += particleA.mass < 3 ? 0.002 : 0;\n              }\n\n              particleA.radius = particleA.mass * 2;\n              particleB.radius = particleB.mass * 2;\n            }\n          }\n        }\n\n        this.cells.forEach((cell) => {\n          const { x, y, velocity } = cell;\n          let newX = x + velocity.x;\n          let newY = y + velocity.y;\n\n          // hit left border\n          if (newX < cell.radius) {\n            newX = cell.radius;\n            cell.velocity.x = -cell.velocity.x;\n          }\n\n          //hit right border\n          if (newX >= this.width - cell.radius) {\n            newX = this.width - cell.radius;\n            cell.velocity.x = -cell.velocity.x;\n          }\n\n          // hit top border\n          if (newY < cell.radius) {\n            newY = cell.radius;\n            cell.velocity.y = -cell.velocity.y;\n          }\n\n          //hit bottom border\n          if (newY >= this.height - cell.radius) {\n            newY = this.height - cell.radius;\n            cell.velocity.y = -cell.velocity.y;\n          }\n\n          cell.x = newX;\n          cell.y = newY;\n          cell.velocity.x = cell.velocity.x > 3 ? 3 : cell.velocity.x;\n          cell.velocity.y = cell.velocity.y > 3 ? 3 : cell.velocity.y;\n          this.fill(cell);\n\n          if (cell.mass < 0.3) {\n            this.cells = this.cells.filter((item) => item !== cell);\n          }\n        });\n\n        window.requestAnimationFrame(this.render);\n      }, 1000 / this.fps);\n    },\n    randomIntFromInterval(min, max) {\n      return Math.floor(Math.random() * (max - min + 1) + min);\n    },\n    generateRandom(num) {\n      for (let i = 0; i < num; i++) {\n        const mass = 1;\n        const radius = mass * 2;\n        const x = this.randomIntFromInterval(\n          this.cellWidth,\n          this.width - this.cellWidth\n        );\n        const y = this.randomIntFromInterval(\n          this.cellHeight,\n          this.height - this.cellHeight\n        );\n        const newCell = {\n          x,\n          y,\n          color: \"#888888\",\n          velocity: {\n            x: Math.random() * 10 - 5,\n            y: Math.random() * 10 - 5,\n          },\n          mass,\n          radius,\n        };\n\n        if (x < radius || x >= this.width - radius) {\n          return false;\n        }\n        if (y < radius || y >= this.height - radius) {\n          return false;\n        }\n\n        this.fill(newCell);\n        this.cells.push(newCell);\n      }\n    },\n  },\n  mounted() {\n    this.ctx = this.$refs.canvasAI.getContext(\"2d\");\n\n    this.generateRandom(200);\n    this.render();\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped></style>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./VAI.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./VAI.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./VAI.vue?vue&type=template&id=66f23cad&scoped=true&\"\nimport script from \"./VAI.vue?vue&type=script&lang=js&\"\nexport * from \"./VAI.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"66f23cad\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div>\n    <v-ai :width=\"240\" :height=\"320\" />\n  </div>\n</template>\n\n<script>\nimport VAi from \"@/components/AI/VAI\";\n\nexport default {\n  components: {\n    VAi,\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped></style>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./AIView.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./AIView.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AIView.vue?vue&type=template&id=24a325ae&scoped=true&\"\nimport script from \"./AIView.vue?vue&type=script&lang=js&\"\nexport * from \"./AIView.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"24a325ae\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","attrs","staticRenderFns","ref","style","width","height","on","clickCell","props","type","Number","default","data","ctx","cellWidth","cellHeight","radius","fps","timer","cells","methods","distance","x1","y1","x2","y2","xDist","yDist","Math","sqrt","pow","rotate","velocity","angle","rotatedVelocities","x","cos","y","sin","resolveCollision","particle","otherParticle","console","log","xVelocityDiff","yVelocityDiff","atan2","m1","mass","m2","u1","u2","v1","v2","vFinal1","vFinal2","fill","color","fillStyle","beginPath","arc","PI","closePath","$event","rect","$refs","canvasAI","getBoundingClientRect","canvasCoords","left","top","newCell","random","push","setTimeout","fillRect","i","length","j","particleA","particleB","forEach","cell","newX","newY","filter","item","window","requestAnimationFrame","randomIntFromInterval","min","max","floor","generateRandom","num","mounted","getContext","component","components","VAi"],"sourceRoot":""}